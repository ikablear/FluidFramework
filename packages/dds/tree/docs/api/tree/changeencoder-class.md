{
"title": "ChangeEncoder Class",
"summary": "Serializes and deserializes changes. Supports both binary and JSON formats. Due to data using these formats being persisted in documents, any format for encoding that was ever actually used should be supported for decoding for all future versions.\n\nTODO: Nothing in here is specific to changes. Maybe make this interface more general.",
"kind": "Class",
"members": {
"Method": {
"decodeBinary": "/docs/apis/tree/changeencoder-class#decodebinary-method",
"decodeJson": "/docs/apis/tree/changeencoder-class#decodejson-method",
"encodeBinary": "/docs/apis/tree/changeencoder-class#encodebinary-method",
"encodeForJson": "/docs/apis/tree/changeencoder-class#encodeforjson-method"
}
},
"package": "@fluid-internal/tree",
"unscopedPackageName": "tree"
}

[//]: # "Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter."

[Packages](/docs/apis/) &gt; [@fluid-internal/tree](/docs/apis/tree) &gt; [ChangeEncoder](/docs/apis/tree/changeencoder-class)

Serializes and deserializes changes. Supports both binary and JSON formats. Due to data using these formats being persisted in documents, any format for encoding that was ever actually used should be supported for decoding for all future versions.

TODO: Nothing in here is specific to changes. Maybe make this interface more general.

## Signature {#changeencoder-signature}

```typescript
export declare abstract class ChangeEncoder<TChange>
```

<b>Type parameters:</b>

-   <b>TChange</b>

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Method
      </th>
      <th scope="col">
        Return Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree/changeencoder-class#decodebinary-method'>decodeBinary</a>
      </td>
      <td>
        TChange
      </td>
      <td>
        Binary decoding. Override to do better than just Json.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/changeencoder-class#decodejson-method'>decodeJson</a>
      </td>
      <td>
        TChange
      </td>
      <td>
        Decodes <code>change</code> from a JSON compatible object.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/changeencoder-class#encodebinary-method'>encodeBinary</a>
      </td>
      <td>
        IsoBuffer
      </td>
      <td>
        <p>Binary encoding. Override to do better than just Json.</p><p>TODO: maybe use DataView or some kind of writer instead of IsoBuffer.</p>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/changeencoder-class#encodeforjson-method'>encodeForJson</a>
      </td>
      <td>
        <a href='/docs/apis/tree#jsoncompatiblereadonly-typealias'>JsonCompatibleReadOnly</a>
      </td>
      <td>
        Encodes <code>change</code> into a JSON compatible object.
      </td>
    </tr>
  </tbody>
</table>

## Method Details

### decodeBinary {#decodebinary-method}

Binary decoding. Override to do better than just Json.

#### Signature {#decodebinary-signature}

```typescript
decodeBinary(formatVersion: number, change: IsoBuffer): TChange;
```

#### Parameters {#decodebinary-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        formatVersion
      </td>
      <td>
        number
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        change
      </td>
      <td>
        IsoBuffer
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#decodebinary-returns}

<b>Return type:</b> TChange

### decodeJson {#decodejson-method}

Decodes `change` from a JSON compatible object.

#### Signature {#decodejson-signature}

```typescript
abstract decodeJson(formatVersion: number, change: JsonCompatibleReadOnly): TChange;
```

#### Parameters {#decodejson-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        formatVersion
      </td>
      <td>
        number
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        change
      </td>
      <td>
        <a href='/docs/apis/tree#jsoncompatiblereadonly-typealias'>JsonCompatibleReadOnly</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#decodejson-returns}

<b>Return type:</b> TChange

### encodeBinary {#encodebinary-method}

Binary encoding. Override to do better than just Json.

TODO: maybe use DataView or some kind of writer instead of IsoBuffer.

#### Signature {#encodebinary-signature}

```typescript
encodeBinary(formatVersion: number, change: TChange): IsoBuffer;
```

#### Parameters {#encodebinary-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        formatVersion
      </td>
      <td>
        number
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        change
      </td>
      <td>
        TChange
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#encodebinary-returns}

<b>Return type:</b> IsoBuffer

### encodeForJson {#encodeforjson-method}

Encodes `change` into a JSON compatible object.

#### Signature {#encodeforjson-signature}

```typescript
abstract encodeForJson(formatVersion: number, change: TChange): JsonCompatibleReadOnly;
```

#### Parameters {#encodeforjson-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        formatVersion
      </td>
      <td>
        number
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        change
      </td>
      <td>
        TChange
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#encodeforjson-returns}

<b>Return type:</b> [JsonCompatibleReadOnly](/docs/apis/tree#jsoncompatiblereadonly-typealias)
