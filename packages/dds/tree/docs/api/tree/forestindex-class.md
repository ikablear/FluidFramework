{
"title": "ForestIndex Class",
"summary": "Index which provides an editable forest for the current state for the document.\n\nMaintains part of the document in memory, but can fetch more on demand.\n\nTODO: support for partial checkouts.\n\nUsed to capture snapshots of document for summaries.",
"kind": "Class",
"members": {
"Constructor": {
"(constructor)": "/docs/apis/tree/forestindex-class#_constructor_-constructor"
},
"Method": {
"getAttachSummary": "/docs/apis/tree/forestindex-class#getattachsummary-method",
"getGCData": "/docs/apis/tree/forestindex-class#getgcdata-method",
"load": "/docs/apis/tree/forestindex-class#load-method",
"newLocalState": "/docs/apis/tree/forestindex-class#newlocalstate-method",
"summarize": "/docs/apis/tree/forestindex-class#summarize-method"
},
"Property": {
"key": "/docs/apis/tree/forestindex-class#key-property",
"summaryElement": "/docs/apis/tree/forestindex-class#summaryelement-property"
}
},
"package": "@fluid-internal/tree",
"unscopedPackageName": "tree"
}

[//]: # "Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter."

[Packages](/docs/apis/) &gt; [@fluid-internal/tree](/docs/apis/tree) &gt; [ForestIndex](/docs/apis/tree/forestindex-class)

Index which provides an editable forest for the current state for the document.

Maintains part of the document in memory, but can fetch more on demand.

TODO: support for partial checkouts.

Used to capture snapshots of document for summaries.

## Signature {#forestindex-signature}

```typescript
export declare class ForestIndex implements Index<unknown>, SummaryElement
```

<b>Implements:</b> [Index](/docs/apis/tree/index-interface)<!-- -->&lt;unknown&gt;, [SummaryElement](/docs/apis/tree/summaryelement-interface)

## Constructors

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Constructor
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree/forestindex-class#_constructor_-constructor'>(constructor)</a>
      </td>
      <td>
        Constructs a new instance of the <code>ForestIndex</code> class
      </td>
    </tr>
  </tbody>
</table>

## Properties

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Property
      </th>
      <th scope="col">
        Modifiers
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree/forestindex-class#key-property'>key</a>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/forestindex-class#summaryelement-property'>summaryElement</a>
      </td>
      <td>
        <code>optional</code>
      </td>
      <td>
        <a href='/docs/apis/tree/summaryelement-interface'>SummaryElement</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Method
      </th>
      <th scope="col">
        Return Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree/forestindex-class#getattachsummary-method'>getAttachSummary</a>
      </td>
      <td>
        ISummaryTreeWithStats
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/forestindex-class#getgcdata-method'>getGCData</a>
      </td>
      <td>
        IGarbageCollectionData
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/forestindex-class#load-method'>load</a>
      </td>
      <td>
        Promise<void>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/forestindex-class#newlocalstate-method'>newLocalState</a>
      </td>
      <td>
        void
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/forestindex-class#summarize-method'>summarize</a>
      </td>
      <td>
        Promise<ISummaryTreeWithStats>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Constructor Details

### (constructor) {#_constructor_-constructor}

Constructs a new instance of the `ForestIndex` class

#### Signature {#_constructor_-signature}

```typescript
constructor(runtime: IFluidDataStoreRuntime, forest: IEditableForest);
```

#### Parameters {#_constructor_-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        runtime
      </td>
      <td>
        IFluidDataStoreRuntime
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        forest
      </td>
      <td>
        <a href='/docs/apis/tree/ieditableforest-interface'>IEditableForest</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

## Property Details

### key {#key-property}

#### Signature {#key-signature}

```typescript
readonly key = "Forest";
```

### summaryElement {#summaryelement-property}

#### Signature {#summaryelement-signature}

```typescript
readonly summaryElement?: SummaryElement;
```

## Method Details

### getAttachSummary {#getattachsummary-method}

#### Signature {#getattachsummary-signature}

```typescript
getAttachSummary(stringify: SummaryElementStringifier, fullTree?: boolean, trackState?: boolean, telemetryContext?: ITelemetryContext): ISummaryTreeWithStats;
```

#### Parameters {#getattachsummary-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Modifiers
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        stringify
      </td>
      <td>
      </td>
      <td>
        <a href='/docs/apis/tree#summaryelementstringifier-typealias'>SummaryElementStringifier</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        fullTree
      </td>
      <td>
        optional
      </td>
      <td>
        boolean
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        trackState
      </td>
      <td>
        optional
      </td>
      <td>
        boolean
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        telemetryContext
      </td>
      <td>
        optional
      </td>
      <td>
        ITelemetryContext
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getattachsummary-returns}

<b>Return type:</b> ISummaryTreeWithStats

### getGCData {#getgcdata-method}

#### Signature {#getgcdata-signature}

```typescript
getGCData(fullGC?: boolean): IGarbageCollectionData;
```

#### Parameters {#getgcdata-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Modifiers
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        fullGC
      </td>
      <td>
        optional
      </td>
      <td>
        boolean
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#getgcdata-returns}

<b>Return type:</b> IGarbageCollectionData

### load {#load-method}

#### Signature {#load-signature}

```typescript
load(services: IChannelStorageService, parse: SummaryElementParser): Promise<void>;
```

#### Parameters {#load-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        services
      </td>
      <td>
        IChannelStorageService
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        parse
      </td>
      <td>
        <a href='/docs/apis/tree#summaryelementparser-typealias'>SummaryElementParser</a>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#load-returns}

<b>Return type:</b> Promise&lt;void&gt;

### newLocalState {#newlocalstate-method}

#### Signature {#newlocalstate-signature}

```typescript
newLocalState(changeDelta: Delta.Root): void;
```

#### Parameters {#newlocalstate-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        changeDelta
      </td>
      <td>
        Delta.Root
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### summarize {#summarize-method}

#### Signature {#summarize-signature}

```typescript
summarize(stringify: SummaryElementStringifier, fullTree?: boolean, trackState?: boolean, telemetryContext?: ITelemetryContext): Promise<ISummaryTreeWithStats>;
```

#### Parameters {#summarize-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Modifiers
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        stringify
      </td>
      <td>
      </td>
      <td>
        <a href='/docs/apis/tree#summaryelementstringifier-typealias'>SummaryElementStringifier</a>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        fullTree
      </td>
      <td>
        optional
      </td>
      <td>
        boolean
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        trackState
      </td>
      <td>
        optional
      </td>
      <td>
        boolean
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        telemetryContext
      </td>
      <td>
        optional
      </td>
      <td>
        ITelemetryContext
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

#### Returns {#summarize-returns}

<b>Return type:</b> Promise&lt;ISummaryTreeWithStats&gt;
