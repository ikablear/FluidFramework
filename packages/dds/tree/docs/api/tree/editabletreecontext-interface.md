{
"title": "EditableTreeContext Interface",
"summary": "A common context of a 'forest' of EditableTrees. It handles group operations like transforming cursors into anchors for edits.",
"kind": "Interface",
"members": {
"MethodSignature": {
"attachAfterChangeHandler": "/docs/apis/tree/editabletreecontext-interface#attachafterchangehandler-methodsignature",
"clear": "/docs/apis/tree/editabletreecontext-interface#clear-methodsignature",
"free": "/docs/apis/tree/editabletreecontext-interface#free-methodsignature",
"prepareForEdit": "/docs/apis/tree/editabletreecontext-interface#prepareforedit-methodsignature"
},
"Property": {
"root": "/docs/apis/tree/editabletreecontext-interface#root-property",
"unwrappedRoot": "/docs/apis/tree/editabletreecontext-interface#unwrappedroot-property"
},
"PropertySignature": {
"schema": "/docs/apis/tree/editabletreecontext-interface#schema-propertysignature"
}
},
"package": "@fluid-internal/tree",
"unscopedPackageName": "tree"
}

[//]: # "Do not edit this file. It is automatically generated by @fluidtools/api-markdown-documenter."

[Packages](/docs/apis/) &gt; [@fluid-internal/tree](/docs/apis/tree) &gt; [EditableTreeContext](/docs/apis/tree/editabletreecontext-interface)

A common context of a "forest" of EditableTrees. It handles group operations like transforming cursors into anchors for edits.

## Signature {#editabletreecontext-signature}

```typescript
export interface EditableTreeContext
```

## Properties

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Property
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree/editabletreecontext-interface#schema-propertysignature'>schema</a>
      </td>
      <td>
        <a href='/docs/apis/tree/schemadataandpolicy-interface'>SchemaDataAndPolicy</a>
      </td>
      <td>
        <p>Schema used within this context. All data must conform to these schema.</p><p>The root's schema is tracked under <a href='/docs/apis/tree#rootfieldkey-variable'>rootFieldKey</a>.</p>
      </td>
    </tr>
  </tbody>
</table>

## Methods

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Method
      </th>
      <th scope="col">
        Return Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href='/docs/apis/tree/editabletreecontext-interface#attachafterchangehandler-methodsignature'>attachAfterChangeHandler</a>
      </td>
      <td>
        void
      </td>
      <td>
        Attaches the handler to be called after a transaction, initiated by either this context or any other context or client using this document, is committed successfully.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/editabletreecontext-interface#clear-methodsignature'>clear</a>
      </td>
      <td>
        void
      </td>
      <td>
        Release any cursors and anchors held by EditableTrees created in this context. The EditableTrees are invalid to use after this, but the context may still be used to create new trees starting from the root.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/editabletreecontext-interface#free-methodsignature'>free</a>
      </td>
      <td>
        void
      </td>
      <td>
        Call to free resources. It is invalid to use the context after this.
      </td>
    </tr>
    <tr>
      <td>
        <a href='/docs/apis/tree/editabletreecontext-interface#prepareforedit-methodsignature'>prepareForEdit</a>
      </td>
      <td>
        void
      </td>
      <td>
        <p>Call before editing.</p><p>Note that after performing edits, EditableTrees for nodes that no longer exist are invalid to use. TODO: maybe add an API to check if a specific EditableTree still exists, and only make use other than that invalid.</p>
      </td>
    </tr>
  </tbody>
</table>

## Property Details

### schema {#schema-propertysignature}

Schema used within this context. All data must conform to these schema.

The root's schema is tracked under [rootFieldKey](/docs/apis/tree#rootfieldkey-variable)<!-- -->.

#### Signature {#schema-signature}

```typescript
readonly schema: SchemaDataAndPolicy;
```

## Method Details

### attachAfterChangeHandler {#attachafterchangehandler-methodsignature}

Attaches the handler to be called after a transaction, initiated by either this context or any other context or client using this document, is committed successfully.

#### Signature {#attachafterchangehandler-signature}

```typescript
attachAfterChangeHandler(afterChangeHandler: (context: EditableTreeContext) => void): void;
```

#### Parameters {#attachafterchangehandler-parameters}

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">
        Parameter
      </th>
      <th scope="col">
        Type
      </th>
      <th scope="col">
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        afterChangeHandler
      </td>
      <td>
        (context: <a href='/docs/apis/tree/editabletreecontext-interface'>EditableTreeContext</a>) => void
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>

### clear {#clear-methodsignature}

Release any cursors and anchors held by EditableTrees created in this context. The EditableTrees are invalid to use after this, but the context may still be used to create new trees starting from the root.

#### Signature {#clear-signature}

```typescript
clear(): void;
```

### free {#free-methodsignature}

Call to free resources. It is invalid to use the context after this.

#### Signature {#free-signature}

```typescript
free(): void;
```

### prepareForEdit {#prepareforedit-methodsignature}

Call before editing.

Note that after performing edits, EditableTrees for nodes that no longer exist are invalid to use. TODO: maybe add an API to check if a specific EditableTree still exists, and only make use other than that invalid.

#### Signature {#prepareforedit-signature}

```typescript
prepareForEdit(): void;
```
